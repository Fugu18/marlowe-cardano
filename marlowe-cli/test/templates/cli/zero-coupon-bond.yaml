testName: Zero Coupon Bond Contract Test

operations:
  - CreateWallet:
      walletNickname: Lender

  - CreateWallet:
      walletNickname: Borrower

  - FundWallets:
      values: [20000000]
      walletNicknames: [Lender, Borrower]

  # Transaction 1. Create the Contract by Providing the Minimum ADA
  - Initialize:
      marloweValidators: referenceCurrent
      contractNickname: ZCB
      minLovelace: 2000000
      contractSource:
        template:
          UseZeroCouponBond:
            lender:
              address: Lender
            borrower:
              address: Borrower
            principal: 10000000
            interest: 5000000
            lendingDeadline:
              relative: 20000
            paybackDeadline:
              relative: 30000

  # Transaction 2. Lender Deposits the Loan Amount
  - Prepare:
      contractNickname: ZCB
      inputs:
        - input_from_party:
            address: Lender
          that_deposits: 10000000
          of_token:
            currency_symbol: ""
            token_name: ""
          into_account:
            address: Lender
      minimumTime:
        relative: 0
      maximumTime:
        relative: 3600

  - AutoRun:
      contractNickname: ZCB

  # Transaction 3. Borrower Repays the Loan's Principal and Interest"
  - Prepare:
      contractNickname: ZCB
      inputs:
        - input_from_party:
            address: Borrower
          that_deposits: 15000000
          of_token:
            currency_symbol: ""
            token_name: ""
          into_account:
            address: Borrower
      minimumTime:
        relative: 0
      maximumTime:
        relative: 3600

  - AutoRun:
      contractNickname: ZCB

  - CheckBalance:
      walletNickname: Borrower
      balance:
        - [ADA, [14, 15]]

  - CheckBalance:
      walletNickname: Lender
      balance:
        - [ADA, [24, 25]]
