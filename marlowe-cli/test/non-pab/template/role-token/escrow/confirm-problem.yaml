testName: Confirm Problem Escrow Contract with Role Token

operations:
  - tag: Publish
    publishPermanently: true

  - tag: CreateWallet
    walletNickname: seller

  - tag: FundWallets
    values:
      - 50000000
    walletNicknames: [seller]

  - tag: CreateWallet
    walletNickname: buyer

  - tag: FundWallets
    values:
      - 350000000
    walletNicknames: [buyer]

  - tag: CreateWallet
    walletNickname: mediator

  - tag: FundWallets
    values:
      - 120000000
    walletNicknames: [mediator]

  - tag: Mint
    currencyNickname: Escrow
    tokenDistribution:
      - [ seller, seller, 1 ]
      - [ buyer, buyer, 1 ]
      - [ mediator, mediator, 1 ]


  - tag: Initialize
    contractNickname: Escrow
    minAda: 3000000
    roleCurrency: Escrow
    contractSource:
      template:
        tag: UseEscrow
        utPrice: 256
        utSeller:
          role_token: seller
        utBuyer:
          role_token: buyer
        utMediator:
          role_token: mediator
        utPaymentDeadline:
          relative: 1000000
        utComplaintDeadline:
          relative: 2000000
        utDisputeDeadline:
          relative: 3000000
        utMediationDeadline:
          relative: 4000000

  - tag: AutoRun
    submitter: seller
    contractNickname: Escrow

  - tag: Prepare
    contractNickname: Escrow
    inputs:
      - input_from_party:
          role_token: buyer
        that_deposits: 256
        of_token:
          currency_symbol: ""
          token_name: ""
        into_account:
          role_token: seller
    minimumTime:
      relative: -1000
    maximumTime:
      relative: 8000

  - tag: AutoRun
    submitter: buyer
    contractNickname: Escrow


  # - tag: Prepare
  #   contractNickname: Escrow
  #   inputs:
  #     - input_from_party:
  #       for_choice_id:
  #         choice_name: "Report problem"
  #         choice_owner:
  #           tole_token: buyer
  #   minimumTime:
  #     relative: -1000
  #   maximumTime:
  #     relative: 8000

  # - tag: AutoRun
  #   contractNickname: Swap


