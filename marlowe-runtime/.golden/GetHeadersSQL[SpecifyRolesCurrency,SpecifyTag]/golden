Total count statement: SELECT count(*) FROM marlowe.createTxOut NATURAL JOIN marlowe.contractTxOut NATURAL JOIN UNNEST($1) AS roles (rolesCurrency) WHERE EXISTS (SELECT 1 FROM marlowe.contractTxOutTag NATURAL JOIN UNNEST($2) AS tags (tag) WHERE contractTxOutTag.txId = createTxOut.txId AND contractTxOutTag.txIx = createTxOut.txIx)
Headers statement: SELECT createTxOut.slotNo, createTxOut.blockId, createTxOut.blockNo, createTxOut.txId, createTxOut.txIx, contractTxOut.rolesCurrency, createTxOut.metadata, txOut.address, contractTxOut.payoutScriptHash FROM marlowe.createTxOut NATURAL JOIN marlowe.contractTxOut NATURAL JOIN marlowe.txOut NATURAL JOIN UNNEST($1) AS roles (rolesCurrency) WHERE EXISTS (SELECT 1 FROM marlowe.contractTxOutTag NATURAL JOIN UNNEST($2) AS tags (tag) WHERE contractTxOutTag.txId = createTxOut.txId AND contractTxOutTag.txIx = createTxOut.txIx) ORDER BY createTxOut.slotNo DESC, createTxOut.txId DESC, createTxOut.txIx DESC OFFSET $3 FETCH NEXT $4 ROWS ONLY
